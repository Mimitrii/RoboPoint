# 5. Требования к системе
## 5.1 Требования к системе в целом
### 5.1.1 Производительность
NFPER1 Система должна обслуживать до 5000 пользователей в день. Период пиковой активности с 11:00 до 17:00 по местному времени.

NFPER2 Все страницы мобильного приложения, должны полностью загружаться не более чем за 4 секунды после запроса их по интернет-подключению со скоростью 20 Мбит/сек.

NFPER3 Система должна выводить пользователю сообщение о подтверждении в среднем за 3 секунды и не более чем через 6 секунд после того, как пользователь отослал информацию системе.

NFPER4 Система должна обеспечивать пропускную цепочку 500 заказов в час на одной линии.

NFPER5 Сисетма должна быть укомплентована 4мя линиями конвеера:
- Холодный цех - сборка сендвичей, напитков и десертов; 
- Горячий цех - приготовление горячих блюд; 
- Цех сборки и подготовка к выдачи;
- Резервная 
на каждой линии 2 робота

### 5.1.2 Безопасность
NFSEC1 Система должна предусматривать аутентификацию пользователей в системе по номеру телефона и SMS или Push сообщению.

NFSEC2 Пользователи должны обязательно оплатить заказ до начала приготовления заказа.

NFSEC3 Система должна позволять авторизованным пользователям просматривать только заказы, размещенные ими лично, но не других пользоватей.


### 5.1.3 Надежность
NFROB1 Вероятность возникновения критической ошибки должна составлять не более 10% в течение месяца.

NFROB2 Если соединение между пользователем и системой разрывается до того, как заказ подтвержден, система должна позволять пользователю восстановить незавершенный заказ и продолжить работу.

NFROB3 База данных у каждой подсистемы самостоятельная, база данных у пунктов приема заказов централизованная.

### 5.1.4 Совместимость
NFCOM1 Мобильное приложение должно быть совместимо с ОС Android 5.0 или выше и iOS 10 или выше.

NFCOM2 Веб-приложение должно быть соместимо с браузерами, работающими на движках: Blink; Gecko; WebKit.

NFCOM3 Сисетма должна обеспечивать интеграцию со складом и бухгалтерией.

NFCOM4 Аналитика в приложении должна производиться с помощью сторонних сервисов.

### 5.1.5 Доступность
NFAVL1 Система должна быть доступна 98% времени, за исключением времени планового обслуживания(калибровка оборудования).

NFAVL2 Допустимое время простоя в сутки не более 30 минут.

### 5.1.7 Особенности хранения данных
NFDT1 Данные о сроках заказа должны храниться 365 дней с момента получения заказа клиентом.

NFDT2 Cрок хранения архивов - 3 года с последующем удалением.

NFDT3 Бекапы базы данных системы должны осуществляться раз в сутки. 


### 5.1.8 Концептуальная целостность
NFARC1 Система должна соответствовать архитектурному стилю REST.

NFARC2 Используемый стек технологий Java.

### 5.1.9 Поддерживаемость
NFSUP1 Необходимо логировать действия пользователей в системе. Просмотр данных логов должен осуществляться через графический интерфейс.

NFSUP2 Система должна обеспечивать мониторинг производительности с использованием графического интерфейса.


## 5.2 Требования к функциям (задачам), выполняемым системой
### 5.2.1 UseCase диаграмма
Основные функции системы представлены в виде UseCase диаграммы.

[DrawIO](UseCase.drawio)
![UseCaseDiagramm](images/UseCase.png)

### 5.2.2 Описание UseCase, реализуемых в рамках MVP

#### 5.2.2.1 Зарегистрироваться в системе

Название |UC-1: Зарегистрироваться в системе
| ------------- | ------------- |  
Краткое описание | Регистрация пользователя в мобильном приложении для возможности оформления заказа
Участники | 1. Пользователь
Предусловие | Пользователь зашел в приложение
Основной сценарий |1. Пользователь нажал на кнопку N1 <br> 2. Система открыла страницу регистрации в приложении <br> 3. Пользователь заполнил все обязательные поля и нажал кнопку N2 <br> 4. Система проверила, что пользователь заполнил все обязательные поля <br> 5. Система проверила, что введенный номер телефона ранее не использовался при регистрации <br> 6. Система проверила, что E-mail ранее не использовался при регистрации <br> 7. Система проверила, что пароли одинаковые <br> 8. Система отобразила страницу подтверждения регистрации по СМС <br> 9. Пользователь ввел полученный код из СМС <br> 10. Система проверила правильность введенного кода из СМС <br> 11. Система открыла странцу с выбором категорий меню.Конец сценария.
Альтернативный сценарий | AF1-2: Пользователь вспомнил, что был зарегистрирован и решил авторизоваться. <br> 1. Пользователь нажал кнопку N20 <br> 2. Система отобразила страницу выбора авторизации или регистрации. Конец сценария.<br>
AF1-4: Пользователь не заполнил все обязательные поля. <br> 1.Система выводит сообщение, что пользователь не заполнил все обязательные поля  <br>  2.  Пользователь нажимает кнопку N21  <br> 3. Переход к п.3 основного сценария. Конец сценария.<br>
AF1-5:  Пользователь с введенным номером телефона уже существует. <br> 1. Система выводит сообщение, что введенный номер телефона уже зарегистрирован <br>  2.  Пользователь нажимает кнопку N21  <br> 3. Переход к п.1 альтернативного сценария AF1-2. Конец сценария.<br>
AF1-6:  Пользователь с введенным E-mail уже существует. <br> 1. Система выводит сообщение, что введенный E-mail уже зарегистрирован <br>  2.  Пользователь нажимает кнопку N21  <br> 3. Пользователь ввел новый E-mail и нажал кнопку N2 <br> 4. Переход к п.6 основного сценария. Конец сценария.<br>. 
AF1-7:  Введенные пароли отличаются. <br> 1. Система выводит сообщение, что введенные пароли отличаются <br>  2.  Пользователь нажимает кнопку N21  <br> 3. Пользователь ввел в поля "Пароль" и "Повторить пароль" одинаковые значения и нажал кнопку N2 <br> 4. Переход к п.7 основного сценария. Конец сценария. <br>
AF1-8: Пользователь передумал подтверждать регистрацию и решил вернуться на страницу регистрации в приложении  <br> 1.  Пользователь нажимает кнопку N20 <br> 2. Система открыла страницу регистрации в приложении.Конец сценария.<br>  
AF1-9: Пользователь не получил СМС и решил запросить поторно  <br> 1.  Пользователь нажимает кнопку N3 <br> 4. Переход к п.9 основного сценария. Конец сценария.<br>. 
AF1-10: Пользователь ввел не правильный код из СМС  <br> 1. Система выводит сообщение, что введенный код из СМС не правильный <br> 2. Пользователь нажимает кнопку N21  <br> 3. Пользователь ввел правильный код из СМС и нажал кнопку N2 <br> 4. Переход к п.10 основного сценария. Конец сценария.<br>. 
Наименования элементов пользовательского интерфейса| N1: "Зарегестрироваться" <br> N2: "Зарегестрироваться" <br> N3: "Повторно отправить СМС" <br> N20: "Назад" <br> N21: "OK" 


#### 5.2.2.2 Авторизоваться в системе

Название |UC-2: Авторизоваться в системе
| ------------- | ------------- |  
Краткое описание | Авторизация пользователя в мобильном приложении для возможности оформления заказа
Участники | 1. Пользователь 
Предусловие | 1. Пользователь зашел в приложение <br> 2. Пользователь зарегестрирован в системе
Основной сценарий | 1. Пользователь нажал на кнопку N3 <br> 2. Система открыла страницу авторизации в приложении <br> 3. Пользователь заполнил номер телефона <br>

Наименования элементов пользовательского интерфейса| N3: "Авторизоваться" <br> N21: "OK" 


#### 5.2.2.3 Ознакомится с меню

Название |UC-3: Ознакомится с меню
| ------------- | ------------- |  
Краткое описание | Просмотр категорий меню и блюд входящих в эту категорию 
Участники | 1. Пользователь <br> 2. Система
Предусловие | Пользователь зашел в приложение
Основной сценарий | 1. Пользователь нажал на кнопку N1  <br> 2. Система вывела способы употребления пищи <br> 3. Пользователь выбирал способ употребления пищи [Перейти к UC-1](#5221-выбрать-способ-употребления-пищи)  <br> 4.  Система открыла странцу с блюдами выбранной категории. <br> 5. Пользователь в левой третей части экрана выбирал категории блюд, в правой части экрана в зависимости от выбранной категории, отобразились блюда. Конец сценария.
Альтернативный сценарий| 5.1 Пользователь нажал на кнопку N20 <br> 5.2  Система открыла странцу выбора категорий меню <br> 5.3  Пользователь нажал на кнопку N1 <br> 5.4  Система открыла странцу с блюдами выбранной категории. Конец сценария.
Наименования элементов пользовательского интерфейса|N1: "Категория меню" <br> N20: "Назад" .


#### 5.2.2.4 Сформировать корзину

Название |UC 4. Сформировать корзину
| ------------- | ------------- |  
Краткое описание | Выбор блюд для последующей покупки 
Участники | 1. Пользователь <br> 2. Система
Предусловие | Пользователь зашел в на страницу выбора блюд. 
Основной сценарий | 1. Пользователь нажал на кнопку N4  <br> 2. Система добавила выбранное блюдо в корзину, подсветила суммарное количество добавленных блюд над кнопкой N5, расчитала итоговую стоймость   <br> 3. Пользователь нажал на кнопку N5 <br> 4.  Система открыла странцу корзины, подсветила суммарное количество добавленных блюд над кнопкой N5, расчитала итоговую стоймость <br> 

Альтернативный сценарий| 5.1 Пользователь нажимает кнопку " Назад" <br> 5.2  Система открывает странцу выбора категорий меню <br> 5.3  Пользователь выбирает "Категорю меню" <br> 5.4  Система открывает странцу с блюдами выбранной категории. Конец сценария.
Наименования элементов пользовательского интерфейса|N1: "Категория меню" <br> N4:"Блюдо" <br> N5:"Корзина" <br>  N20: "Назад" .
Диаграмма|

 Пользователь  из разных "Категорий меню" повторил действия в п.1 

 Если пользователь авторизован

#### 5.2.2.5 

Название |UC-1: 
| ------------- | ------------- |  
Краткое описание | 
Участники | 1. Пользователь <br> 2. Система
Предусловие | Пользователь зашел в приложение
Основной сценарий | 1. Пользователь нажал на кнопку N1  <br> 2. Система вывела способы употребления пищи <br> 

 #### 5.2.2.6 Выбрать способ употребления пищи

Название |UC-6: Выбрать способ употребления пищи 
| ------------- | ------------- |  
Краткое описание | Выбор способа употребления пищи в приложении
Участники | 1. Пользователь <br> 2. Система
Предусловие | Пользователь авторизован в приложении
Основной сценарий | 1. Пользователь нажал на кнопку N1  <br> 2. Система вывела способы употребления пищи <br> 3. Пользователь нажал на кнопку N2 <br> 4.  Система открыла странцу с блюдами выбранной категории. Конец сценария.
Альтернативный сценарий| 3.1 Пользователь нажал на кнопку N3 <br> 3.2  Система открыла странцу с блюдами выбранной категории. Конец сценария.
Наименования элементов пользовательского интерфейса|N1: "Категория меню" <br> N2: "с собой"  <br> N3:"в зале".