# 7. Компонентная архитектура

## 7.1 Обоснование выбора архитектурного стиля
Микросервисная архитектура является эффективным подходом для разработки приложений, которые должны масштабироваться и быть гибкими в изменении. В случае приложения для  заказа еды в ресторане, микросервисная архитектура может предоставить следующие преимущества:

Гибкость: Микросервисы могут быть разработаны и развернуты независимо друг от друга, что позволяет быстро вносить изменения в приложение без необходимости перезапуска всего приложения.

Масштабируемость: Микросервисы могут быть масштабированы отдельно друг от друга, что позволяет легко управлять нагрузкой на приложение и обеспечивать высокую доступность.

Устойчивость: Если один из микросервисов не работает, остальные микросервисы могут продолжать работу, что обеспечивает устойчивость приложения в целом.

Легкость разработки: Разработчики могут работать над отдельными микросервисами, что упрощает процесс разработки и тестирования.

Легкость внедрения новых функций: Новые функции могут быть добавлены в виде новых микросервисов, что позволяет быстро внедрять новые возможности в приложение.

## 7.2 Диаграмма компонентов
На диаграмме представлены компоненты микросервисной архитектуры системы и интеграции между данными компонентами.<br>


[ViewerDiagrams](https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=%D0%A14.drawio&dark=auto#Uhttps%3A%2F%2Fdrive.google.com%2Fuc%3Fid%3D183QMieam4U3z-u8zH36BOPIHtT-7DTFB%26export%3Ddownload)<br>
![C4](images/7_CompArchi/С4.png)<br>


## 7.3 Описание компонентов

| №  | Источник                          | Назначение                           | Данные                                               | Протокол/Формат |
|----|------------------------------------|--------------------------------------|------------------------------------------------------|----------------|
| 1  | API Gateway                        | Компонент Заказ                      | Направляет запрос на создание заказа                | HTTPS/JSON     |
| 2  | API Gateway                        | Компонент Управления Роботами        | Направляет запросы для роботов                      | HTTPS/JSON     |
| 3  | API Gateway                        | Компонент Бонусы                     | Информация о бонусах                                | HTTPS/JSON     |
| 4  | API Gateway                        | Компонент Ингредиент                 | Информация об ингредиентах                          | HTTPS/JSON     |
| 5  | API Gateway                        | Компонент Блюдо                      | Информация о блюдах                                 | HTTPS/JSON     |
| 6  | API Gateway                        | Email Component                      | Запрос на отправку email                           | HTTPS/JSON     |
| 7  | API Gateway                        | SMS Component                        | Запрос на отправку SMS                             | HTTPS/JSON     |
| 8  | API Gateway                        | Bank Component                       | Направляет запросы на оплату                       | HTTPS/JSON     |
| 9  | API Gateway                        | Компонент Пользователь               | Запросы для управления данными пользователей       | HTTPS/JSON     |
| 10 | API Gateway                        | Компонент Уведомления Готовности     | Запросы для уведомления о готовности заказов      | HTTPS/JSON     |
| 11 | Bank Component                      | Банкинг                              | Отправляет платежные данные                        | HTTPS/JSON     |
| 12 | Email Component                     | Email System                         | Отправляет email                                   | SMTP          |
| 13 | Mobile App                          | API Gateway                          | Отправляет запросы                                 | HTTPS/JSON     |
| 14 | SMS Component                       | SMS System                           | Данные для отправки SMS                           | HTTPS/JSON     |
| 15 | Web App                             | API Gateway                          | Отправляет запросы обслуживающего персонала       | HTTPS/JSON     |
| 16 | Клиент                              | Mobile App                           | Оформляет заказы                                  | HTTPS/JSON     |
| 17 | Клиент                              | Клиентский Терминал                  | Оформляет заказы                                  | HTTPS/JSON     |
| 18 | Клиентский Терминал                 | API Gateway                          | Отправляет запросы                                | HTTPS/JSON     |
| 19 | Компонент Аналитики и Отчетности    | Система Анализа и Отчетности         | Отправляет данные для анализа                     | HTTPS/JSON     |
| 20 | Компонент Аналитики и Отчетности    | Компонент СУБД                       | Запросы к базе данных (анализ данных и отчетность) | SQL           |
| 21 | Компонент Блюдо                     | Компонент СУБД                       | Запросы к базе данных (управление блюдами)       | SQL           |
| 22 | Компонент Бонусы                    | Компонент СУБД                       | Запросы к базе данных (управление бонусами)      | SQL           |
| 23 | Компонент Бухгалтерия               | Бухгалтерский Учет                    | Финансовые данные                                | HTTPS/JSON     |
| 24 | Компонент Бухгалтерия               | Компонент СУБД                       | Запросы к базе данных (управление финансами)     | SQL           |
| 25 | Компонент Заказ                     | Компонент СУБД                       | Запросы к базе данных (создание, обновление, удаление заказов) | SQL |
| 26 | Компонент Закупки                   | Система Закупки и Учета              | Данные о закупках                                | HTTPS/JSON     |
| 27 | Компонент Закупки                   | Компонент СУБД                       | Запросы к базе данных (управление закупками)    | SQL           |
| 28 | Компонент Ингредиент                | Компонент СУБД                       | Запросы к базе данных (управление ингредиентами) | SQL           |
| 29 | Компонент Пользователь              | Компонент СУБД                       | Запросы к базе данных (управление клиентами)    | SQL           |
| 30 | Компонент СУБД                      | База Данных                          | Управляет данными в базе                         | SQL           |
| 31 | Компонент Уведомления Готовности    | Информационное Табло                 | Уведомления о готовности заказов                | HTTPS/JSON     |
| 32 | Компонент Управления Роботами       | Система Управления Роботами         | Отправляет команды роботам                      | HTTPS/JSON     |
